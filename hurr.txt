

  d3.svgExport()
[Function]
{ __timers: [],
  _document: 
   { _childNodes: [ [Object], [Object] ],
     _childNodesList: null,
     _ownerDocument: [Circular],
     _attributes: 
      { _ownerDocument: '#document',
        _parentNode: [Circular],
        _readonly: false,
        '_$ns_to_attrs': {},
        '_$name_to_attrs': {},
        length: 0 },
     _childrenList: null,
     _version: 7458,
     _parentNode: null,
     _memoizedQueries: {},
     _readonly: false,
     _parsingMode: 'html',
     _implementation: { _ownerDocument: [Circular], _features: [Object] },
     _documentElement: 
      { _childNodes: [Object],
        _childNodesList: null,
        _ownerDocument: [Circular],
        _attributes: [Object],
        _childrenList: null,
        _version: 3,
        _parentNode: [Circular],
        _memoizedQueries: {},
        _readonly: false,
        _namespaceURI: 'http://www.w3.org/1999/xhtml',
        _prefix: null,
        _localName: 'html',
        _attached: true },
     _ids: { svgs: [Object] },
     _attached: true,
     _contentType: 'text/html',
     _URL: 'about:blank',
     _location: { _url: [Object], _document: [Circular] },
     _referrer: undefined,
     _cookie: undefined,
     _cookieDomain: '127.0.0.1',
     _documentRoot: '.',
     _queue: { paused: false, tail: null },
     _resourceLoader: undefined,
     readyState: 'complete',
     _parentWindow: [Circular] },
  history: 
   { _states: [ [Object] ],
     _index: 0,
     _window: 
      { __timers: [],
        _document: [Object],
        history: [Circular],
        addEventListener: [Function],
        removeEventListener: [Function],
        dispatchEvent: [Function],
        raise: [Function],
        setTimeout: [Function],
        setInterval: [Function],
        clearInterval: [Function],
        clearTimeout: [Function],
        __stopAllTimers: [Function],
        Image: [Function],
        _virtualConsole: [Object],
        console: [Object],
        XMLHttpRequest: [Function],
        run: [Function],
        getGlobal: [Function],
        dispose: [Function],
        top: [Circular],
        parent: [Circular],
        self: [Circular],
        frames: [Circular],
        window: [Circular],
        _frame: [Function] },
     _location: { _url: [Object], _document: [Object] } },
  addEventListener: [Function],
  removeEventListener: [Function],
  dispatchEvent: [Function],
  raise: [Function],
  setTimeout: [Function],
  setInterval: [Function],
  clearInterval: [Function],
  clearTimeout: [Function],
  __stopAllTimers: [Function],
  Image: [Function],
  _virtualConsole: { _events: { error: [Function] } },
  console: 
   { assert: [Function],
     clear: [Function],
     count: [Function],
     debug: [Function],
     error: [Function],
     group: [Function],
     groupCollapse: [Function],
     groupEnd: [Function],
     info: [Function],
     log: [Function],
     table: [Function],
     time: [Function],
     timeEnd: [Function],
     trace: [Function],
     warn: [Function] },
  XMLHttpRequest: [Function],
  run: [Function],
  getGlobal: [Function],
  dispose: [Function],
  top: [Circular],
  parent: [Circular],
  self: [Circular],
  frames: [Circular],
  window: [Circular],
  _frame: [Function],
  constructor: [Function: Window],
  _length: 0,
  length: 0,
  document: 
   { _childNodes: [ [Object], [Object] ],
     _childNodesList: null,
     _ownerDocument: [Circular],
     _attributes: 
      { _ownerDocument: '#document',
        _parentNode: [Circular],
        _readonly: false,
        '_$ns_to_attrs': {},
        '_$name_to_attrs': {},
        length: 0 },
     _childrenList: null,
     _version: 7458,
     _parentNode: null,
     _memoizedQueries: {},
     _readonly: false,
     _parsingMode: 'html',
     _implementation: { _ownerDocument: [Circular], _features: [Object] },
     _documentElement: 
      { _childNodes: [Object],
        _childNodesList: null,
        _ownerDocument: [Circular],
        _attributes: [Object],
        _childrenList: null,
        _version: 3,
        _parentNode: [Circular],
        _memoizedQueries: {},
        _readonly: false,
        _namespaceURI: 'http://www.w3.org/1999/xhtml',
        _prefix: null,
        _localName: 'html',
        _attached: true },
     _ids: { svgs: [Object] },
     _attached: true,
     _contentType: 'text/html',
     _URL: 'about:blank',
     _location: { _url: [Object], _document: [Circular] },
     _referrer: undefined,
     _cookie: undefined,
     _cookieDomain: '127.0.0.1',
     _documentRoot: '.',
     _queue: { paused: false, tail: null },
     _resourceLoader: undefined,
     readyState: 'complete',
     _parentWindow: [Circular] },
  location: 
   { _url: 
      { protocol: 'about:',
        slashes: null,
        auth: null,
        host: 'blank',
        port: null,
        hostname: 'blank',
        hash: null,
        search: null,
        query: null,
        pathname: null,
        path: null,
        href: 'about:blank' },
     _document: 
      { _childNodes: [Object],
        _childNodesList: null,
        _ownerDocument: [Circular],
        _attributes: [Object],
        _childrenList: null,
        _version: 7458,
        _parentNode: null,
        _memoizedQueries: {},
        _readonly: false,
        _parsingMode: 'html',
        _implementation: [Object],
        _documentElement: [Object],
        _ids: [Object],
        _attached: true,
        _contentType: 'text/html',
        _URL: 'about:blank',
        _location: [Circular],
        _referrer: undefined,
        _cookie: undefined,
        _cookieDomain: '127.0.0.1',
        _documentRoot: '.',
        _queue: [Object],
        _resourceLoader: undefined,
        readyState: 'complete',
        _parentWindow: [Circular] } },
  close: [Function],
  getComputedStyle: [Function],
  navigator: 
   { userAgent: [Getter],
     appName: [Getter],
     platform: [Getter],
     appVersion: [Getter],
     noUI: true,
     cookieEnabled: [Getter] },
  name: 'nodejs',
  innerWidth: 1024,
  innerHeight: 768,
  outerWidth: 1024,
  outerHeight: 768,
  pageXOffset: 0,
  pageYOffset: 0,
  screenX: 0,
  screenY: 0,
  screenLeft: 0,
  screenTop: 0,
  scrollX: 0,
  scrollY: 0,
  scrollTop: 0,
  scrollLeft: 0,
  alert: [Function],
  blur: [Function],
  confirm: [Function],
  createPopup: [Function],
  focus: [Function],
  moveBy: [Function],
  moveTo: [Function],
  open: [Function],
  print: [Function],
  prompt: [Function],
  resizeBy: [Function],
  resizeTo: [Function],
  scroll: [Function],
  scrollBy: [Function],
  scrollTo: [Function],
  screen: { width: 0, height: 0 },
  Int8Array: [Function: Int8Array],
  Int16Array: [Function: Int16Array],
  Int32Array: [Function: Int32Array],
  Float32Array: [Function: Float32Array],
  Float64Array: [Function: Float64Array],
  Uint8Array: [Function: Uint8Array],
  Uint8ClampedArray: [Function: Uint8ClampedArray],
  Uint16Array: [Function: Uint16Array],
  Uint32Array: [Function: Uint32Array],
  ArrayBuffer: [Function: ArrayBuffer],
  mapper: [Function],
  mapDOMNodes: [Function],
  visitTree: [Function],
  markTreeReadonly: [Function],
  INDEX_SIZE_ERR: 1,
  DOMSTRING_SIZE_ERR: 2,
  HIERARCHY_REQUEST_ERR: 3,
  WRONG_DOCUMENT_ERR: 4,
  INVALID_CHARACTER_ERR: 5,
  NO_DATA_ALLOWED_ERR: 6,
  NO_MODIFICATION_ALLOWED_ERR: 7,
  NOT_FOUND_ERR: 8,
  NOT_SUPPORTED_ERR: 9,
  INUSE_ATTRIBUTE_ERR: 10,
  INVALID_STATE_ERR: 11,
  SYNTAX_ERR: 12,
  INVALID_MODIFICATION_ERR: 13,
  NAMESPACE_ERR: 14,
  INVALID_ACCESS_ERR: 15,
  exceptionMessages: 
   { '1': 'Index size error',
     '2': 'DOMString size error',
     '3': 'Hierarchy request error',
     '4': 'Wrong document',
     '5': 'Invalid character',
     '6': 'No data allowed',
     '7': 'No modification allowed',
     '8': 'Not found',
     '9': 'Not supported',
     '10': 'Attribute in use',
     '14': 'Invalid namespace' },
  DOMException: 
   { [Function: DOMException]
     INDEX_SIZE_ERR: 1,
     DOMSTRING_SIZE_ERR: 2,
     HIERARCHY_REQUEST_ERR: 3,
     WRONG_DOCUMENT_ERR: 4,
     INVALID_CHARACTER_ERR: 5,
     NO_DATA_ALLOWED_ERR: 6,
     NO_MODIFICATION_ALLOWED_ERR: 7,
     NOT_FOUND_ERR: 8,
     NOT_SUPPORTED_ERR: 9,
     INUSE_ATTRIBUTE_ERR: 10,
     INVALID_STATE_ERR: 11,
     SYNTAX_ERR: 12,
     INVALID_MODIFICATION_ERR: 13,
     NAMESPACE_ERR: 14,
     INVALID_ACCESS_ERR: 15 },
  NodeList: [Function: NodeList],
  DOMImplementation: [Function: DOMImplementation],
  Node: 
   { [Function: Node]
     ELEMENT_NODE: 1,
     ATTRIBUTE_NODE: 2,
     TEXT_NODE: 3,
     CDATA_SECTION_NODE: 4,
     ENTITY_REFERENCE_NODE: 5,
     ENTITY_NODE: 6,
     PROCESSING_INSTRUCTION_NODE: 7,
     COMMENT_NODE: 8,
     DOCUMENT_NODE: 9,
     DOCUMENT_TYPE_NODE: 10,
     DOCUMENT_FRAGMENT_NODE: 11,
     NOTATION_NODE: 12,
     DOCUMENT_POSITION_DISCONNECTED: 1,
     DOCUMENT_POSITION_PRECEDING: 2,
     DOCUMENT_POSITION_FOLLOWING: 4,
     DOCUMENT_POSITION_CONTAINS: 8,
     DOCUMENT_POSITION_CONTAINED_BY: 16,
     DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC: 32 },
  NamedNodeMap: [Function: NamedNodeMap],
  AttributeList: [Function: AttributeList],
  Element: [Function: Element],
  DocumentFragment: [Function: DocumentFragment],
  Document: { [Function: Document] getFeature: [Function] },
  Attr: [Function: Attr],
  EventException: [Function],
  Event: [Function],
  UIEvent: [Function],
  MouseEvent: [Function],
  MutationEvent: [Function],
  EventTarget: [Function],
  languageProcessors: { javascript: [Function] },
  resourceLoader: 
   { load: [Function],
     enqueue: [Function],
     baseUrl: [Function],
     resolve: [Function],
     fetch: [Function],
     download: [Function],
     readFile: [Function] },
  HTMLCollection: [Function: HTMLCollection],
  HTMLOptionsCollection: [Function: HTMLCollection],
  HTMLDocument: [Function: HTMLDocument],
  HTMLElement: { [Function] _init: undefined },
  HTMLFormElement: { [Function] _init: undefined },
  HTMLLinkElement: { [Function] _init: [Function] },
  HTMLMetaElement: { [Function] _init: undefined },
  HTMLHtmlElement: { [Function] _init: undefined },
  HTMLHeadElement: { [Function] _init: undefined },
  HTMLTitleElement: { [Function] _init: undefined },
  HTMLBaseElement: { [Function] _init: undefined },
  HTMLIsIndexElement: { [Function] _init: undefined },
  HTMLStyleElement: { [Function] _init: [Function] },
  HTMLBodyElement: { [Function] _init: undefined },
  HTMLSelectElement: { [Function] _init: undefined },
  HTMLOptGroupElement: { [Function] _init: undefined },
  HTMLOptionElement: { [Function] _init: undefined },
  HTMLInputElement: { [Function] _init: [Function] },
  HTMLTextAreaElement: { [Function] _init: undefined },
  HTMLButtonElement: { [Function] _init: undefined },
  HTMLLabelElement: { [Function] _init: undefined },
  HTMLFieldSetElement: { [Function] _init: undefined },
  HTMLLegendElement: { [Function] _init: undefined },
  HTMLUListElement: { [Function] _init: undefined },
  HTMLOListElement: { [Function] _init: undefined },
  HTMLDListElement: { [Function] _init: undefined },
  HTMLDirectoryElement: { [Function] _init: undefined },
  HTMLMenuElement: { [Function] _init: undefined },
  HTMLLIElement: { [Function] _init: undefined },
  HTMLCanvasElement: { [Function] _init: undefined },
  HTMLDivElement: { [Function] _init: undefined },
  HTMLParagraphElement: { [Function] _init: undefined },
  HTMLHeadingElement: { [Function] _init: undefined },
  HTMLQuoteElement: { [Function] _init: undefined },
  HTMLPreElement: { [Function] _init: undefined },
  HTMLBRElement: { [Function] _init: undefined },
  HTMLBaseFontElement: { [Function] _init: undefined },
  HTMLFontElement: { [Function] _init: undefined },
  HTMLHRElement: { [Function] _init: undefined },
  HTMLModElement: { [Function] _init: undefined },
  HTMLAnchorElement: { [Function] _init: undefined },
  HTMLImageElement: { [Function] _init: undefined },
  HTMLObjectElement: { [Function] _init: undefined },
  HTMLParamElement: { [Function] _init: undefined },
  HTMLAppletElement: { [Function] _init: undefined },
  HTMLMapElement: { [Function] _init: undefined },
  HTMLAreaElement: { [Function] _init: undefined },
  HTMLScriptElement: { [Function] _init: [Function] },
  HTMLTableElement: { [Function] _init: undefined },
  HTMLTableCaptionElement: { [Function] _init: undefined },
  HTMLTableColElement: { [Function] _init: undefined },
  HTMLTableSectionElement: { [Function] _init: undefined },
  HTMLTableRowElement: { [Function] _init: undefined },
  HTMLTableCellElement: { [Function] _init: undefined },
  HTMLFrameSetElement: { [Function] _init: undefined },
  HTMLFrameElement: { [Function] _init: [Function] },
  HTMLIFrameElement: { [Function] _init: undefined },
  StyleSheet: [Function: StyleSheet],
  MediaList: [Function: MediaList],
  CSSStyleSheet: [Function: CSSStyleSheet],
  CSSRule: 
   { [Function: CSSRule]
     STYLE_RULE: 1,
     IMPORT_RULE: 3,
     MEDIA_RULE: 4,
     FONT_FACE_RULE: 5,
     PAGE_RULE: 6,
     WEBKIT_KEYFRAMES_RULE: 8,
     WEBKIT_KEYFRAME_RULE: 9 },
  CSSStyleRule: { [Function: CSSStyleRule] parse: [Function] },
  CSSMediaRule: [Function: CSSMediaRule],
  CSSImportRule: [Function: CSSImportRule],
  CSSStyleDeclaration: [Function: CSSStyleDeclaration],
  StyleSheetList: [Function],
  VALIDATION_ERR: 16,
  TYPE_MISMATCH_ERR: 17,
  UserDataHandler: [Function],
  DOMError: [Function],
  DOMConfiguration: [Function],
  DOMStringList: [Function],
  XPathException: { [Function: XPathException] INVALID_EXPRESSION_ERR: 51, TYPE_ERR: 52 },
  XPathExpression: [Function: XPathExpression],
  XPathResult: 
   { [Function: XPathResult]
     ANY_TYPE: 0,
     NUMBER_TYPE: 1,
     STRING_TYPE: 2,
     BOOLEAN_TYPE: 3,
     UNORDERED_NODE_ITERATOR_TYPE: 4,
     ORDERED_NODE_ITERATOR_TYPE: 5,
     UNORDERED_NODE_SNAPSHOT_TYPE: 6,
     ORDERED_NODE_SNAPSHOT_TYPE: 7,
     ANY_UNORDERED_NODE_TYPE: 8,
     FIRST_ORDERED_NODE_TYPE: 9 },
  XPathEvaluator: [Function: XPathEvaluator],
  DocumentType: [Function: DocumentType],
  CharacterData: [Function: CharacterData],
  ProcessingInstruction: [Function: ProcessingInstruction],
  Comment: [Function: Comment],
  Text: [Function: Text],
  NodeFilter: 
   { [Function]
     acceptNode: [Function],
     SHOW_ALL: 4294967295,
     SHOW_ELEMENT: 1,
     SHOW_ATTRIBUTE: 2,
     SHOW_TEXT: 4,
     SHOW_CDATA_SECTION: 8,
     SHOW_ENTITY_REFERENCE: 16,
     SHOW_ENTITY: 32,
     SHOW_PROCESSING_INSTRUCTION: 64,
     SHOW_COMMENT: 128,
     SHOW_DOCUMENT: 256,
     SHOW_DOCUMENT_TYPE: 512,
     SHOW_DOCUMENT_FRAGMENT: 1024,
     SHOW_NOTATION: 2048,
     FILTER_ACCEPT: 1,
     FILTER_REJECT: 2,
     FILTER_SKIP: 3 },
  _parser: undefined,
  _parsingMode: 'html',
  _augmented: true }
    1) returns an array if there is only one SVG object in the document


  0 passing (252ms)
  1 failing

  1) d3.svgExport() returns an array if there is only one SVG object in the document:
     ReferenceError: getComputedStyle is not defined
      at explicitlySetStyle (d3.exportSVG.js:271:41)
      at setInlineStyles (d3.exportSVG.js:305:7)
      at d3.exportSVG.js:223:7
      at NodeList.forEach (native)
      at getSources (d3.exportSVG.js:206:16)
      at d3.exportSVG.js:85:24
      at Array.forEach (native)
      at initialize (d3.exportSVG.js:84:15)
      at Object.d3.exportSVG (d3.exportSVG.js:50:3)
      at test/test.js:48:23
      at _fulfilled (node_modules/q/q.js:834:54)
      at self.promiseDispatch.done (node_modules/q/q.js:863:30)
      at Promise.promise.promiseDispatch (node_modules/q/q.js:796:13)
      at node_modules/q/q.js:604:44
      at runSingle (node_modules/q/q.js:137:13)
      at flush (node_modules/q/q.js:125:13)



